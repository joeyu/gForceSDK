<!DOCTYPE html>
<html>
<head>
    <title>websockets client</title>
    <script src="jquery-1.5.1.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        var ws;
        var port = "8888";
        var url = "ws://127.0.0.1:" + port + "/RawData";

        $(document).ready(function () {
            ws = new WebSocket(url);
            ws.onmessage = function (evt) {
                if (typeof evt !== "undefined" && typeof evt.data == "string") {
                    if (msg != str && msg !== $("textblox").val()) {
                        $("#out").append("expected: " + msg + ". actual: " + str + "<br/>");
                    }
                }
            }

            ws.onopen = function (evt) {
                $("#url").html(url);
                $("#status").html("Connected to " + url);
                var data = 'source';
                ws.send(data);
                $("#sent").append(data + '</br>');
                data = new Blob([1, 2, 3, 4, 5], { type: 'Application/integer' });
                ws.send(data);
            }

            ws.onclose = function () {
                $("#status").html("connection closed.");
            }
        });
    </script>
    <style type="text/css">
        body {
            font-family: Trebuchet MS;
            font-size: 0.7em;
        }

        #sent {
            font-family: Consolas;
            font-size: 1em;
        }


        #status {
            font-family: Consolas;
            font-size: 1em;
        }

        }
    </style>
</head>
<body>
    <div>
        <h4> Status: <span id="status" /> </h4>
        <h4> Sent: <span id="sent" /> </h4>
    </div>
</body>
</html>
